{"ast":null,"code":"var _jsxFileName = \"/workspaces/HappyMap/HappyMaps/maps/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet latitudes = [];\nlet longitudes = [];\nlet happinessScores = [];\nlet map, heatmap;\nfunction App() {\n  _s();\n  useEffect(() => {\n    initMap();\n  }, []);\n  function getEmojiUrl(score) {\n    if (score >= 6) {\n      return \"/emoji/super-happy.png\";\n    } else if (score >= 5) {\n      return \"/emoji/happy.png\";\n    } else if (score >= 4) {\n      return \"/emoji/neutral.png\";\n    } else if (score >= 2) {\n      return \"/emoji/sad.png\";\n    } else {\n      return \"/emoji/super-sad.png\";\n    }\n  }\n  function initMap() {\n    fetch(\"http://localhost:5000/api/emotion\").then(response => response.json()).then(data => {\n      if (data.length > 0) {\n        data.forEach(row => {\n          latitudes.push(parseFloat(row.latitude));\n          longitudes.push(parseFloat(row.longitude));\n          happinessScores.push(parseFloat(row.score));\n        });\n        if (latitudes.length > 0) {\n          map = new window.google.maps.Map(document.getElementById(\"map\"), {\n            zoom: 5.3,\n            center: {\n              lat: 22.9734,\n              lng: 78.6569\n            },\n            mapTypeId: \"satellite\"\n          });\n          const gradient = [\"rgba(0, 255, 255, 0)\", \"rgba(0, 255, 255, 1)\", \"rgba(0, 191, 255, 1)\", \"rgba(0, 127, 255, 1)\", \"rgba(0, 63, 255, 1)\", \"rgba(0, 0, 255, 1)\", \"rgba(0, 0, 223, 1)\", \"rgba(0, 0, 191, 1)\", \"rgba(0, 0, 159, 1)\", \"rgba(0, 0, 127, 1)\", \"rgba(63, 0, 91, 1)\", \"rgba(127, 0, 63, 1)\", \"rgba(191, 0, 31, 1)\", \"rgba(255, 0, 0, 1)\"];\n          heatmap = new window.google.maps.visualization.HeatmapLayer({\n            data: getPoints(),\n            map: map,\n            gradient: gradient,\n            radius: 40\n          });\n          latitudes.forEach((lat, index) => {\n            if (!isNaN(lat) && !isNaN(longitudes[index]) && !isNaN(happinessScores[index])) {\n              const marker = new window.google.maps.Marker({\n                position: {\n                  lat: lat,\n                  lng: longitudes[index]\n                },\n                map: map,\n                title: `Happiness Score: ${happinessScores[index]}`,\n                icon: {\n                  url: getEmojiUrl(happinessScores[index]),\n                  scaledSize: new window.google.maps.Size(25, 30)\n                }\n              });\n            }\n          });\n          document.getElementById(\"toggle-heatmap\").addEventListener(\"click\", toggleHeatmap);\n          document.getElementById(\"change-opacity\").addEventListener(\"click\", changeOpacity);\n          document.getElementById(\"change-radius\").addEventListener(\"click\", changeRadius);\n        }\n      } else {\n        console.error(\"No data received for emotions.\");\n      }\n    }).catch(error => console.error(\"Error fetching emotion data:\", error));\n  }\n  function toggleHeatmap() {\n    heatmap.setMap(heatmap.getMap() ? null : map);\n  }\n  function changeRadius() {\n    heatmap.set(\"radius\", heatmap.get(\"radius\") ? null : 50);\n  }\n  function changeOpacity() {\n    heatmap.set(\"opacity\", heatmap.get(\"opacity\") ? null : 0.2);\n  }\n  function getPoints() {\n    return latitudes.map((lat, index) => {\n      return {\n        location: new window.google.maps.LatLng(lat, longitudes[index]),\n        weight: happinessScores[index]\n      };\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"landing-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Happy Maps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subtitle\",\n        children: \"Happiness Has a Location!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Map\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"floating-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"toggle-heatmap\",\n          children: \"Toggle Heatmap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"change-radius\",\n          children: \"Change radius\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"change-opacity\",\n          children: \"Change opacity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"map\",\n        style: {\n          height: '500px',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","latitudes","longitudes","happinessScores","map","heatmap","App","_s","initMap","getEmojiUrl","score","fetch","then","response","json","data","length","forEach","row","push","parseFloat","latitude","longitude","window","google","maps","Map","document","getElementById","zoom","center","lat","lng","mapTypeId","gradient","visualization","HeatmapLayer","getPoints","radius","index","isNaN","marker","Marker","position","title","icon","url","scaledSize","Size","addEventListener","toggleHeatmap","changeOpacity","changeRadius","console","error","catch","setMap","getMap","set","get","location","LatLng","weight","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","style","height","width","_c","$RefreshReg$"],"sources":["/workspaces/HappyMap/HappyMaps/maps/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport './App.css';\r\n\r\nlet latitudes = [];\r\nlet longitudes = [];\r\nlet happinessScores = [];\r\nlet map, heatmap;\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    initMap();\r\n  }, []);\r\n\r\n  function getEmojiUrl(score) {\r\n    if (score >= 6) {\r\n      return \"/emoji/super-happy.png\";\r\n    } else if (score >= 5) {\r\n      return \"/emoji/happy.png\";\r\n    } else if (score >= 4) {\r\n      return \"/emoji/neutral.png\";\r\n    } else if (score >= 2) {\r\n      return \"/emoji/sad.png\";\r\n    } else {\r\n      return \"/emoji/super-sad.png\";\r\n    }\r\n  }\r\n\r\n  function initMap() {\r\n    fetch(\"http://localhost:5000/api/emotion\")\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.length > 0) {\r\n          data.forEach(row => {\r\n            latitudes.push(parseFloat(row.latitude));\r\n            longitudes.push(parseFloat(row.longitude));\r\n            happinessScores.push(parseFloat(row.score));\r\n          });\r\n\r\n          if (latitudes.length > 0) {\r\n            map = new window.google.maps.Map(document.getElementById(\"map\"), {\r\n              zoom: 5.3,\r\n              center: { lat: 22.9734, lng: 78.6569 },\r\n              mapTypeId: \"satellite\",\r\n            });\r\n\r\n            const gradient = [\r\n              \"rgba(0, 255, 255, 0)\",\r\n              \"rgba(0, 255, 255, 1)\",\r\n              \"rgba(0, 191, 255, 1)\",\r\n              \"rgba(0, 127, 255, 1)\",\r\n              \"rgba(0, 63, 255, 1)\",\r\n              \"rgba(0, 0, 255, 1)\",\r\n              \"rgba(0, 0, 223, 1)\",\r\n              \"rgba(0, 0, 191, 1)\",\r\n              \"rgba(0, 0, 159, 1)\",\r\n              \"rgba(0, 0, 127, 1)\",\r\n              \"rgba(63, 0, 91, 1)\",\r\n              \"rgba(127, 0, 63, 1)\",\r\n              \"rgba(191, 0, 31, 1)\",\r\n              \"rgba(255, 0, 0, 1)\",\r\n            ];\r\n\r\n            heatmap = new window.google.maps.visualization.HeatmapLayer({\r\n              data: getPoints(),\r\n              map: map,\r\n              gradient: gradient,\r\n              radius: 40,\r\n            });\r\n\r\n            latitudes.forEach((lat, index) => {\r\n              if (!isNaN(lat) && !isNaN(longitudes[index]) && !isNaN(happinessScores[index])) {\r\n                const marker = new window.google.maps.Marker({\r\n                  position: { lat: lat, lng: longitudes[index] },\r\n                  map: map,\r\n                  title: `Happiness Score: ${happinessScores[index]}`,\r\n                  icon: {\r\n                    url: getEmojiUrl(happinessScores[index]),\r\n                    scaledSize: new window.google.maps.Size(25, 30),\r\n                  },\r\n                });\r\n              }\r\n            });\r\n\r\n            document\r\n              .getElementById(\"toggle-heatmap\")\r\n              .addEventListener(\"click\", toggleHeatmap);\r\n            document\r\n              .getElementById(\"change-opacity\")\r\n              .addEventListener(\"click\", changeOpacity);\r\n            document\r\n              .getElementById(\"change-radius\")\r\n              .addEventListener(\"click\", changeRadius);\r\n          }\r\n        } else {\r\n          console.error(\"No data received for emotions.\");\r\n        }\r\n      })\r\n      .catch(error => console.error(\"Error fetching emotion data:\", error));\r\n  }\r\n\r\n  function toggleHeatmap() {\r\n    heatmap.setMap(heatmap.getMap() ? null : map);\r\n  }\r\n\r\n  function changeRadius() {\r\n    heatmap.set(\"radius\", heatmap.get(\"radius\") ? null : 50);\r\n  }\r\n\r\n  function changeOpacity() {\r\n    heatmap.set(\"opacity\", heatmap.get(\"opacity\") ? null : 0.2);\r\n  }\r\n\r\n  function getPoints() {\r\n    return latitudes.map((lat, index) => {\r\n      return {\r\n        location: new window.google.maps.LatLng(lat, longitudes[index]),\r\n        weight: happinessScores[index],\r\n      };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"landing-page\">\r\n      <div className=\"content\">\r\n        <h1 className=\"title\">Happy Maps</h1>\r\n        <p className=\"subtitle\">Happiness Has a Location!</p>\r\n      </div>\r\n\r\n      <div className='Map'>\r\n        <div id='floating-panel'>\r\n          <button id=\"toggle-heatmap\">Toggle Heatmap</button>\r\n          <button id=\"change-radius\">Change radius</button>\r\n          <button id=\"change-opacity\">Change opacity</button>\r\n        </div>\r\n\r\n        <div id=\"map\" style={{ height: '500px', width: '100%' }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}